<!DOCTYPE html>
<html>
  <head>
    <title>Proof of live miner</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="../css/photon.min.css">
    <link rel="stylesheet" href="../css/style.css">

    <!-- Javascript -->
    <script src="js/menu.js" charset="utf-8"></script>

  </head>
  <body>
    <div class="window">



      <!-- Your app's content goes inside .window-content -->
      <div class="window-content">
        <div class="pane-group">




          <div class="pane pane-sm sidebar">
            <nav class="nav-group">


              <h5 class="nav-group-title">Received</h5>
              <ul class="list-group">
              <li class="list-group-item">
                <img class="img-rounded media-object pull-left" src="../images/received.png" width="32" height="32">
                <div class="media-body">
                  <strong>240 ETR.</strong>
                  <p>Go TXID.</p>
                </div>
              </li>
            </ul>


            <h5 class="nav-group-title">Actions</h5>
            <ul class="list-group">
            <li class="list-group-item">
              <img class="img-circle media-object pull-left" src="../images/attachment.png" width="32" height="32">
              <div class="media-body">
                <strong>False</strong>
                <p>542</p>
              </div>
            </li>
          </ul>





            </nav>
          </div>










          <form id="ethform">

            <img src="../images/miners.png" id="landimg">
            &nbsp;
            <center id="details">
            <h3 id="ethAddress"></h3>
            <h5 id="ethBalance"></h5>
            <h5 id="etrBalance"></h5>
          </center>

            <div class="form-group firstdetails" >
              <input id="priv" type="text" class="form-control" placeholder="ethereum key">
            </div>

            <div class="form-actions firstdetails">
              <button type="button" id="sender" class="btn btn-form btn-positive">Connect</button>
            </div>


          </form>





        </div>
      </div>

      <footer class="toolbar toolbar-footer">
      <h1 class="title">Ethereum Rush</h1>
    </footer>


<script type="text/javascript">

const ipc = require('electron').ipcRenderer;



let mybutton = document.querySelector("#sender");
let ethereumPrivateKey =  document.querySelector("#priv");
mybutton.addEventListener("click", () => {
  ipc.send('key', ethereumPrivateKey.value);
});


ipc.on('etrbalance', (event, msg) => {
  console.log(msg);
  document.getElementById("etrBalance").innerHTML = msg;
  document.getElementById("priv").style.display = "none";
  document.getElementById("sender").style.display = "none";

});

ipc.on('ethaddress', (event, msg) => {
  document.getElementById("ethAddress").innerHTML = msg;
});

ipc.on('ethbalance', (event, msg) => {
  document.getElementById("ethBalance").innerHTML = msg;
});



ipc.on('checkRewardStatus', (event, msg) => {
  document.getElementById("ethBalance").innerHTML = msg;
});


</script>
    </div>
  </body>
</html>
